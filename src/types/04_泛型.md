# 泛型

## 在函数和类中指定泛型

```ts
function fun<Typ>(params: unknown) {
  const res = doSomething(params);
  return res as unknown as Typ;
}
class Person<Typ1, Typ2, Typ3> {
  static prop: unknown;
  constructor(
    public parameters: Typ1,
    private param02: Typ2,
    readonly param3: Typ3
  ) {}
}
```

## 泛型继承类

```ts
class Person {}
/**
 * 接口Inter中继承Person中函有的属性
 */
interface Inter extends Person {
  length: number;
}
/**
 * 限制类型typ必须继承了Inter
 */
const fun = <typ extends Inter>(a: typ) => {
  return a.length;
};
```

## 内置泛型

- `Partial<T>`

```ts
/**
 * 让传入的类型的所有（浅层）属性变成可选属性
 */
interface _obj {
  name: string;
  age: number;
}
type _obj_Partial = Partial<_obj>;
/**
 * 以下是输出
 */
interface _obj_Partial {
  name?: string;
  age?: number;
}
```

- `Required<T>`

```ts
/**
 * 与Partial<T>相反
 */
```

- `Readonly<T>`

```ts
/**
 * 仅读
 */
interface _obj {
    name:string
    age:number
}
const obj:_obj = {
    name:"张三"
    age:18
}
obj.age = 19//允许
type _obj_Readonly = Readonly<_obj>
const obj02:_obj_Readonly = {
    name:"张三"
    age:18
}
obj02.age = 19//飘红
```

- `Pick<T, K extends keyof T>`

```ts
/**
 * 返回的类型中仅存在选中的属性值
 */
interface _obj {
  name: string;
  age: number;
}
type _obj_Pick = Pick<_obj, "name">;
/**
 * 结果如下
 */
interface _result {
  name: string;
}
```

- `Record<k extends keyof any, T>`

```ts
/**
 * 描述一个对象键和值的类型
 * 键的类型必须是K
 * 值的类型必须是T
 * 键值对的数量不作限制
 */
type _obj = Record<string, any>; //JS中的object
type _arr = Record<number, any>; //JS中的array
```

- `Exclude<F, S>`

```ts
/**
 * 仅适用于联合类型
 * 求补
 * 从F中清除存在于S中的类型，并将剩余的返回
 */
type _f = string | number | boolean;
type _s = string | null | undefined;
type _res = Exclude<_f, _s>;
//结果如下
type _res = number | boolean;
```

- `Extract<F, S>`

```ts
/**
 * 与Exclude<F, S>相反
 * 求交
 * 排除不同的，取出相同的
 */
```

- `Omit<T, K extends keyof any>`

```ts
/**
 * 省略掉类型中指定的属性
 */
interface _obj {
  name: string;
  age: number;
  sex: string;
  address: string;
}
type _omit = "sex" | "address";
type _res = Omit<_obj, _omit>;
// 结果
interface _res {
  name: string;
  age: number;
}
```

- `NonNullable<T>`

```ts
/**
 * 从联合类型中排除null和undefined
 */
type _target = null | undefined | boolean | string | number;
type _res = NonNullable<_target>;
// 结果
type _res = boolean | string | number;
```

- `ReturnType<T>`

```ts
/**
 * 获取传入的函数的类型的返回类型
 */
const func = () => {
  return 888;
};
type _res = ReturnType<typeof func>;
type _res = 888;
```

- `InstanceType<T>`

```ts
/**
 * 返回传入的构造函数的实例的类型
 */
class Person {
  name = "";
  age = 0;
}
type _res = InstanceType<Person>;
type _res = {
  name: "";
  age: 0;
};
```

- `Uppercase<T>`和`Lowercase<T>`

```ts
/**
 * 用于字符串形式的键名的大小写转换
 */
type _sex = "man" | "women";
type _sex_up = Uppercase<_sex>;
type _sex_up = "MAN" | "WOMEN";
type _sex_low = Lowercase<_sex_up>;
type _sex_low = "man" | "women";
```
